---
{"dg-publish":true,"dg-path":"机器人/Xacro.md","permalink":"/机器人/Xacro/","dgPassFrontmatter":true,"noteIcon":"","created":"2025-12-19T18:11:16.816+08:00","updated":"2025-12-26T17:37:05.637+08:00"}
---

(terminology::**XML Macros**)

Xacro 的英文全称是 XML Macros，它是 ROS 生态中用于生成 [[URDF\|URDF]] 的一种宏语言与预处理工具，主要目的是在保持 URDF 语义不变的前提下，提高机器人模型描述的抽象层次、可维护性与可复用性。

从本质上看，Xacro 并不是一种新的机器人建模格式，而是对 XML 的一种宏扩展机制。Xacro 文件在语法结构上仍然遵循 XML 规范，其最终产物依然是标准的 URDF（Unified Robot Description Format）。在 ROS 系统中，Xacro 会在运行前或加载模型时被展开并转换为 URDF，因此下游工具如 RViz、Gazebo、MoveIt 并不直接感知 Xacro 的存在。

Xacro 的核心思想是通过参数化、宏定义与表达式计算，将原本在 URDF 中大量重复、硬编码的结构抽象出来。例如，在多关节串联机构中，连杆的几何属性、惯性参数与关节连接形式往往高度相似，直接使用 URDF 描述会导致冗长且难以维护的文件。通过 Xacro，可以定义一个宏来描述“标准连杆—关节单元”，并通过参数传入长度、质量、坐标偏置等变量，从而在保持物理意义清晰的同时显著减少冗余。

在语义层面，Xacro 主要扩展了三类能力。
- 第一是宏（macro）机制，即通过可复用的结构模板生成 XML 片段，这使得机器人结构具备类似函数调用的模块化特征。
- 第二是参数与属性系统，通过参数传递与属性替换，使模型描述从“常量描述”转变为“符号化描述”。
- 第三是表达式计算能力，Xacro 支持在属性中嵌入数学表达式，用于描述尺寸、位姿和惯性参数之间的确定性关系，从而在数学上保证模型的一致性。

在建模实践中，Xacro 尤其适用于以下场景：多自由度串联或并联机构、左右对称结构、需要在不同配置之间快速切换的机器人平台，以及对惯性与几何参数具有明确函数关系的系统。通过 Xacro，可以将机器人模型的结构参数与数值参数解耦，使模型既具备工程可调性，又不牺牲物理严谨性。

需要强调的是，Xacro 并不会引入新的动力学或运动学假设。机器人系统的运动学拓扑、质量分布和约束条件仍然完全由最终生成的 URDF 决定。换言之，Xacro 是一种工程层面的建模工具，而不是理论层面的模型定义语言。其价值在于将复杂系统的描述过程形式化、模块化，并降低模型演化过程中的认知与维护成本。

